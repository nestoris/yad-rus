# Русификатор справки YAD

Замечательный программист из Киева Виктор Ананьевский создал замечательный форк фреймворка Zenity под названем Yet Another Dialog.

Но, по всей видимости, в связи с военной бедой между Россией и Украиной, он решил удалить напрочь русификацию этой программы. Ну да ладно. Он практически её создатель (YAD во многом превосходит свой апстрим Zenity), это его, разработчика право.

Но к сожалению, не все грузины, армяне, казахи, таджики, узбеки, литовцы, латыши, эстонцы, азербайджанцы, киргизы, абхазы, евреи, молдаване да и сами украинцы владеют украинским так же хорошо, как русским. Поэтому давайте сделаем русификацию YAD из поистине превосходной украинской локализации этой чудесной программы!

Что для этого надо?

- Запустить из этой папки скрипт `./yad-rus.awk`, он, если есть интернет, скачает нам файл `uk.po`. Если не скачает, то надо зайти на [GinHub](https://github.com/v1cont/yad), найти в папке `po` этот файл и сохранить в эту папку. И снова запустить скрипт.
- Если интернета или доступа к GitHub вообще нет, но YAD у вас установлен, то выполняем команду: `msgunfmt /usr/share/locale/uk/LC_MESSAGES/yad.mo > uk.po`. И снова запускаем скрипт.
- Когда скрипт вытащит из файла локализации нужные строки и сохранит их в `uk.txt`, он предложит нам совершить действие и нажать Enter. Нам надо преобразовать полученный `uk.txt` с помощью офисной программы в формат `docx` и перетащить его в [Google-переводчик документов с украинского на русский](https://translate.google.com/?sl=uk&tl=ru&op=docs).
- Далее мы его из переводчика сохраняем с любым именем и расширением docx.
- Открывем полученный docx и сохраняем его в обычном текстовом формате строго с именем `ru.txt`, следим, чтобы в конце файла была обязательно одна пустая строка.
- В терминале нажимаем Enter для продолжения.
- Получаем `ru.po` (он создаётся на основе лежащих в папке `uk.po` и `ru.txt`)
- Выполняем `msgfmt ru.po -o yad.mo`, в процессе которого могут выскакивать ошибки. Компилятор скажет, где что неладно. Смотрим внимательно, чтобы все открывающиеся кавычки вконце закрывались, чтобы соблюдался порядок локализационного файла (#строка_кода - msgid "eng.text" - msgstr "рус.текст" - пустая_строка). А то переводчик иногда может что-то съедать.
- Копируем `yad.mo` в папку `/usr/share/locale/ru/LC_MESSAGES/` от имени суперпользователя командой `sudo cp yad.mo /usr/share/locale/ru/LC_MESSAGES/`
- Пользуемся.